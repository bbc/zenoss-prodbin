<!--
##############################################################################
# 
# Copyright (C) Zenoss, Inc. 2009, all rights reserved.
# 
# This content is made available according to terms specified in
# License.zenoss under the directory where your Zenoss product is installed.
# 
##############################################################################
-->


<tal:block metal:use-macro="context/page_macros/base-new">

<tal:block metal:fill-slot="title">Network Map</tal:block>

<tal:block metal:fill-slot="head-local">
<link href="/++resource++zenui/js/zenoss/networkMap/networkGraph.css" rel="stylesheet">
<script src="/++resource++zenui/js/dagre/lib/d3/d3.v3.min.js" type="text/javascript"></script>
<script src="/++resource++zenui/js/zenoss/networkMap/networkGraph.js" type="text/javascript"></script>
</tal:block>


<tal:block metal:fill-slot="center_panel_content">
</tal:block>

<tal:block metal:fill-slot="script_afterLayout">
<!-- Use this slot to perform any post-layout steps. -->
<script type="text/javascript">
    Ext.onReady(function(){
        Ext.getCmp('center_panel').add({
            id: 'networkMap',
            layout: 'fit',
            items: []
        });

        var attachPoint = d3.select("#networkMap-body");
        var networkGraph = new NetworkGraph(attachPoint);
        networkGraph.url="/++resource++zenui/js/zenoss/networkMap/data/2.json";
        networkGraph.imageDir="/zport/dmd/img/icons";
        networkGraph.update();
    });
</script>
</tal:block>
</tal:block> <!-- metal:use-macro="context/page_macros/masterdetailsplit2" -->
